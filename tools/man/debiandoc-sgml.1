.\" -*- nroff -*-
.\" ----------------------------------------------------------------------
.TH DEBIANDOC-SGML 1 "May 2008" "DebianDoc-SGML Tools" "DebianDoc-SGML Tools"
.\"
.\" ----------------------------------------------------------------------
.SH "NAME"
debiandoc-sgml \- overview of the DebianDoc-SGML formatting tools
.\"
.\" ----------------------------------------------------------------------
.SH "SYNOPSIS"
.B debiandoc2*
.I "[-h]"
.I "[-b\ basename]"
.I "[-X \ custom_dir]"
.I "[-s\ script]"
.I "[-c]"
.I "[-C]"
.I "[-d\ declaration]"
.I "[-e\ extension]"
.I "[-k]"
.I "[-l\ locale]"
.I "[-n\ onsgmls_options]"
.I "[--]"
.I "[source]"

.B debiandoc2html
.I "[-L]"
.I "[-X \ custom_dir]"
.I "[-s\ script]"
.I "[-m]"
.I "[-t\ topname]"
.I "[-1]"
.I "[shared options]"
.br
.B debiandoc2text
.I "[-O]"
.I "[-X \ custom_dir]"
.I "[-s\ script]"
.I "[-m]"
.I "[shared options]"
.br
.B debiandoc2textov
.I "[-O]"
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[-m]"
.I "[shared options]"
.br
.B debiandoc2latex
.I "[-O]"
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[shared options]"
.br
.B debiandoc2latexdvi
.I "[-O]"
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[-p\ papersize]"
.I "[-v]"
.I "[shared options]"
.br
.B debiandoc2latexps
.I "[-O]"
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[-p\ papersize]"
.I "[-v]"
.I "[-1]"
.I "[shared options]"
.br
.B debiandoc2latexpdf
.I "[-O]"
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[-p\ papersize]"
.I "[-v]"
.I "[shared options]"
.br
.B debiandoc2dvi
.I "[-O]"
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[-p\ papersize]"
.I "[-v]"
.I "[shared options]"
.br
.B debiandoc2ps
.I "[-O]"
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[-p\ papersize]"
.I "[-v]"
.I "[-1]"
.I "[shared options]"
.br
.B debiandoc2pdf
.I "[-O]"
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[-p\ papersize]"
.I "[-v]"
.I "[shared options]"
.br
.B debiandoc2texinfo
.I "[-O]"
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[shared options]"
.br
.B debiandoc2info
.I "[-X\ custom_dir]"
.I "[-s\ script]"
.I "[-v]"
.I "[shared options]"
.br
.B debiandoc2dbk
.I "[-s\ script]"
.I "[shared options]"
.br
.B debiandoc2wiki
.I "[-O]"
.I "[-s\ script]"
.I "[-m]"
.I "[shared options]"
.\"
.\" ----------------------------------------------------------------------
.SH "DESCRIPTION"
DebianDoc-SGML is an SGML DTD and a set of formatting tools.  These
tools convert
.IR source ,
an SGML document conforming to the DebianDoc-SGML DTD, into various
output formats.

Each formatting tool 
.BI debiandoc2 foo
directs its output to
.IB basename . extension
where
.I basename
is
.I source
with any leading directory components and any trailing
.B .sgml
removed.  If
.I source
is
.B -
then the input is taken from the standard input.  This option is not
available with
.BR debiandoc2html ", "
.BR debiandoc2latexdvi ", "
.BR debiandoc2latexps ", "
.BR debiandoc2latexpdf ", "
.BR debiandoc2dvi ", "
.BR debiandoc2ps ", "
.BR debiandoc2pdf ", "
.BR debiandoc2info ", "
and
.BR debiandoc2dbk "."

.B debiandoc2html
produces a subdirectory
.IB basename .html
containing an HTML representation of the input in a set of 
.B .html
files.  The `top level' page is named
.IB basename .html/index.html\fR.

.B debiandoc2text
produces a plain ASCII text file
.IB basename .txt
formatted to a width of 79 columns.

.B debiandoc2textov
produces an ASCII text file
.IB basename .tov
formatted to a width of 79 columns, with overstrikes for highlighting
(using backspaces and repeated characters or underscores).  This is
the same ASCII text output style as is generated by troff.

.B debiandoc2latex
produces an input file
.IB basename .tex
for the LaTeX typesetting system.  This can be used to produce
PostScript output and PDF output.

.B debiandoc2latexdvi
produces a DVI file
.IB basename .dvi
via the LaTeX typesetting system.  This can be used to produce
PostScript output.

.B debiandoc2latexps
produces a PostScript file
.IB basename .ps
via the LaTeX typesetting system.

.B debiandoc2latexpdf
produces a PDF file
.IB basename .pdf
via LaTeX typesetting system.

.B debiandoc2dvi
produces a DVI file
.IB basename .dvi\fR.
Currently this is done via the LaTeX typesetting system.  This can be
used to produce PostScript output.

.B debiandoc2ps
produces a PostScript file
.IB basename .ps\fR.
Currently this is done via the LaTeX typesetting system.

.B debiandoc2pdf
produces a PDF file
.IB basename .pdf\fR.
Currently this is done via the LaTeX typesetting system.

.B debiandoc2texinfo
produces an input file
.IB basename .texinfo
for the Texinfo documentation system.  This can be used to produce an
Info file.

.B debiandoc2info
produces an Info file
.IB basename .info
via the Texinfo documentation system.

.B debiandoc2dbk
produces a subdirectory
.IB basename .dbk
containing an DocBook XML representation of the input in a set of 
.B .dbk
files.  The `top level' page is named
.IB basename .dbk/index.dbk\fR.
If
.B -1
option is used, it produces a
.IB basename .dbk
file instead in the same directory without creating a subdirectory.

.B debiandoc2wiki
produces a text file
.IB basename .wiki 
, part of which may be used for creation of a Wiki page.
.\"
.\" ----------------------------------------------------------------------
.SH "SHARED OPTIONS"
The following command line options are supported by all formatting
tools: 
.TP
.BI -b \ basename
Use the indicated
.I basename
instead of the default one.  If applied to
.B debiandoc2html
and given with one or more directory components, the indicated
.I basename
is interpreted as
.I basename/prefix
with
.I basename
now consisting of the given directory components.  The resulting
.I basename
is used as described above.  The
.I prefix
is used as prefix of the set of
.B .html
files containing the HTML representation of the input, including the
`top level' page.
.TP
.B -c
Turn on content-negotiation with encoding suffix.  This causes 
the generated output to be named
.IB basename . language [. encoding] . extension
based on the 
.B -l
option argument.  The optional
.I encoding
exists only when 
.B -l
option argument explicitly contains encoding.
.TP
.B -C
Turn on content-negotiation without encoding suffix.  This causes 
the generated output to be named
.IB basename . language . extension
based only on the language part of 
.B -l
option argument.  (Good for UTF-8 locale such as 'fr.UTF-8'.)
.TP
.BI -d \ declaration
Use the indicated SGML
.I declaration
instead of the default (
.B /usr/share/sgml/debiandoc/dtd/sgml/1.0/debiandoc.dcl
).  If given without any leading directory
components,
.I declaration
is assumed to be in one of the
.B declaration
directories in the SGML search paths.
.TP
.BI -e \ extension
Use the indicated
.I extension
instead of the default one.
.TP
.BI -h
Print the help message on stdout.
.TP
.BI -k
Keep the intermediate files in the directory with the output file(s).
This includes files in
.BR onsgmls (1)'s
output format
.IB basename .sasp\fR
and
.IB basename .sasp- foo\fR.
For LaTeX based output this also includes the files
.IB basename .aux\fR,
.IB basename .log\fR,
.IB basename .tex\fR
and
.IB basename .toc\fR,
and for PostScript output the file
.IB basename .dvi
as well.  Further, if the
.B -O
option and/or the
.B -c
option and/or the
.B -e
option(s) are/is used to generate a DVI, a PDF or a PS file, respectively
.IB basename .dvi\fR,
.IB basename .pdf
or
.IB basename .ps
is also an intermediate file.
.TP
.BI -l \ locale
Use the indicated
.I locale
to localize the generated output.  If this option is not used or an
unsupported locale is indicated, the locale 'en' which is alias 
of 'en_US.ISO8859-1' is used.  For generic English UTF-8, 
use 'en.UTF-8' instead.  These will be used as a part of file name when 
.B -c
or
.B -C
options are used.
For HTML, content negotiation part of file name is generated by 
changing the locale value such as 'pt_BR' to a lower case one 'pt-br'.  
The locale value such as 'pt-br' are also accepted as an alias 
for pt_BR' to make build scripts cleaner. This will make non-HTML 
output to use the same suffix as HTML. See 
.B /usr/share/perl5/DebianDoc_SGML/Locale/Alias.pm
for exact locale names accepted (left side values).
.TP
.BI -n \ onsgmls_options
Pass the indicated options directly on to
.BR onsgmls (1).
May be used more than once.
.TP
.BI --
Separates options from the
.I source
in case the latter begins with a hyphen.
.\"
.\" ----------------------------------------------------------------------
.SH "SPECIFIC OPTIONS"
The following command line options are supported only by some
formatting tools (see the synopsis above for which tool support which
option):
.TP
.BI -1
Generate one page for HTML output.  Generate 1 page per page (default)
for PostScript output (as this is the default now the option is
deprecated and will likely be removed in the future).
.TP
.BI -L
Do not add <link> tags to the header of the generated HTML file(s).
.TP
.BI -m
Put the comments in footnote style in the output.
.TP
.BI -O
Output to standard output instead of to the file
.IB basename . extension\fR.
This is implied when input is taken from standard input.
.TP
.BI -p \ papersize
Produce output in the indicated
.IR papersize .
See
.BR papersize (5)
for details.
.TP
.BI -P
Add extra <p> tags to the regenerated SGML file(s) around
<list>, <enumlist>, <taglist>, <example>, ... to work with 
Debiandoc SGML syntax.
.TP
.BI -s \ script
Apply the specified script on the intermediate .latex or .texinfo file 
before making further processing. (Or apply the specified script on 
the generated file) 

The script is called with its argument set to 
.I [ -l \ locale ] inputfile outputfile\fR .

Currently, the default value for this script hook for .tex file is set to 
/usr/share/debiandoc-sgml/fixlatex which fixes Chinese Big5 
encoding issues.
.TP
.B -S
Use <sect1>, <sect2>, <sect3>, ...  instead of default <section> for DocBook XML conversion.
.TP
.BI -t \ topname
Use the indicated
.I topname
(without extension) as the name of the `top level' page instead of the
default one.
.TP
.BI -v
Be verbose when invoking secondary processors such as latex or makeinfo.
.TP
.BI -x
Generate XHTML compliant HTML output.  
.TP
.BI -X\ custom_dir \fR .
You can change the locale dependent data directory from the 
default /usr/share/perl5/DebianDoc_SGML/Locale/ to 
.I custom_dir
directory by setting this option.

This may be used as a hook for user to add new locale support or to change LaTeX
header definition created by the debiandoc-sgml package without having root 
access to the system.
.\"
.\" ----------------------------------------------------------------------
.SH "DIAGNOSTICS"
Error messages from the validating SGML parser
.BR onsgmls (1)
indicate something is wrong with
.IR source .
Make sure
.IR source
conforms to the DebianDoc-SGML DTD.

Error messages from
.B saspconvert
(an internally used script of the DebianDoc-SGML package) indicates a
problem with the package itself.  Please report them to the package
maintainer via Debian's bug reporting system.

If
.B debiandoc2latexdvi\fR,
.B debiandoc2latexps\fR,
.B debiandoc2latexpdf\fR,
.B debiandoc2dvi\fR,
.B debiandoc2ps\fR,
.B debiandoc2pdf\fR,
or
.B debiandoc2info
encounter an error when calling their secondary processors, they issue
an appropriate error message and indicate to use the
.B -v
option to see the output generated by these secondary processors
(which can be a lot!).  The latter three also indicate to check the
log file
.IB basename .log\fR.

If an error occurred, none of the already generated intermediate files
are removed.  They are removed in the next successful conversion of
the same
.I source
by the same
.BI debiandoc2 foo
(unless the
.B -k
option is used).
.\"
.\" ----------------------------------------------------------------------
.SH "NOTES"
If
.BI debiandoc2 foo
is about to overwrite an already existing intermediate file, it issues
an appropriate warning message (except for files in 
.BR onsgmls (1)'s
output format).  See the description of the
.B -k
option for a complete overview of the intermediate files.
.\"
.\" ----------------------------------------------------------------------
.SH "ENVIRONMENT"
.\"
The output from the <date> tag can be overridden by the value of environment
variable
.B DEBIANDOC_DATE
if defined.

.\" ----------------------------------------------------------------------
.SH "BUGS"
There should be a program to convert the overstrikes generated by
.B debiandoc2textov
from using backspaces to using carriage returns.

The paper size support in
.BR debiandoc2latexdvi ","
.BR debiandoc2latexps ","
.BR debiandoc2latexpdf ","
.BR debiandoc2dvi ","
.BR debiandoc2ps ","
and
.BR debiandoc2pdf
is not complete.

When
.BR debiandoc2html
is invoked with
.B -x
option to produce XHTML compliant code, the index format control 
features of <enumlist> will not work and it produces <enumlist> 
in the compact format.

The
.BR debiandoc2dbk
command creates usable DocBook XML file.  This is meant to be used as a tool to 
transform existing DebianDoc SGML document to DocBook XML document.

The new XHTML feature of
.BR debiandoc2html
command may contain some bugs but improves XML conformance of HTML output.

The generated Wiki page text created by
.BR debiandoc2wiki
command is meant to be used after manual reformatting.
.\"
.\" ----------------------------------------------------------------------
.SH "SEE ALSO"
.TP
.BR /usr/share/doc/debiandoc-sgml-doc/
DebianDoc-SGML documentation in SGML (= source), HTML, PDF and plain
text format (currently only the SGML DTD is described)
.TP
.BR /usr/share/doc/sp/
OpenSP suite (which includes the validating SGML parser onsgmls)
documentation in HTML format
.TP
.BR basename (1)
.\"
.\" ----------------------------------------------------------------------
.SH "AUTHOR"
Ardo van Rangelrooij <ardo@debian.org>
.br
Ian Jackson (original version)
.br
Osamu Aoki (XML converter, UTF-8 updates, etc.)
.\"
.\" ----------------------------------------------------------------------
